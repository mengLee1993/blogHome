<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计算器</title>
    <script type="text/javascript" src="../../../../base/js/jquery.js"></script>
    <script type="text/javascript" src="../../../../base/js/public.js"></script>
    <script type="text/javascript" src="../../../../reqConfig.js"></script>
</head>
<body>
    <input id = "input_id" type = "text" /><br />
    <button onclick = "btnClick('7');">7</button>
    <button onclick = "btnClick('8');">8</button>
    <button onclick = "btnClick('9');">9</button>
    <button onclick = "btnClick('/');">/</button><br />
    <button onclick = "btnClick('4');">4</button>
    <button onclick = "btnClick('5');">5</button>
    <button onclick = "btnClick('6');">6</button>
    <button onclick = "btnClick('*');">*</button><br />
    <button onclick = "btnClick('1');">1</button>
    <button onclick = "btnClick('2');">2</button>
    <button onclick = "btnClick('3');">3</button>
    <button onclick = "btnClick('-');">-</button><br />
    <button onclick = "btnClick('0');">0</button>
    <button onclick = "btnClick('.');">.</button>
    <button onclick = "btnClick('+');">+</button>
    <button onclick = "equalClick();">=</button><br />
    <script>
       /* function $(id){
            return document.getElementById(id);
        }*/
        var arr = [];
        function btnClick(str){
            arr.push(str);

            document.getElementById("input_id").value = arr.join("");;
        }

        function equalClick(){

            var index = 0;
            for(var i = 0; i < arr.length; i++){
                if(arr[i] == "+" || arr[i] == "-" || arr[i] == "*" || arr[i] == "/"){
                    index = i;
                    break;
                }
            }
            var arr1 = arr.slice(0, index);
            var arr2 = arr.slice((index + 1), arr.length)
            var sign = arr[index];
            var num1 = parseInt(arr1.join(""));
            var num2 = parseInt(arr2.join(""));
            document.getElementById("input_id").value = calculate(num1, sign, num2);
            arr = [];
        }
        function calculate(num1, sign, num2){
            switch(sign){
                case "+":
                    return num1 + num2;
                    break;
                case "-":
                    return num1 - num2;
                    break;
                case "*":
                    return num1 * num2;
                    break;
                case "/":
                    return num1 / num2;
                    break;
                default:
                    alert("输入错误");
                    break;
            }
        }
    </script>
</body>
</html>